<?xml version='1.0' encoding='utf-8'?>
<Context privileged="true">

  <WatchedResource>WEB-INF/web.xml</WatchedResource>

  <!-- Data source for UWS jobs on Postgres -->
  <!-- For containerized development only! -->
  <Resource name="jdbc/uws"
            auth="Container"
            type="javax.sql.DataSource"
            maxActive="1" maxIdle="1" maxWait="20000"
            username="uws" password="astr0query"
            driverClassName="org.postgresql.Driver"
            url="jdbc:postgresql://uwspg.cadc.dao.nrc.ca:5432/uws"
            removeAbandoned="true"
            removeAbandonedTimeout="300"
            logAbandoned="true"
            testOnBorrow="true"
            validationQuery="select 123"
  />

  <!-- standard dev/prod resource definition. ${} values are in <tomcat>/conf/catalina.properties -->
<!--  <Resource name="jdbc/uws"-->
<!--            auth="Container"-->
<!--            type="javax.sql.DataSource"-->
<!--            factory="org.apache.tomcat.jdbc.pool.DataSourceFactory" closeMethod="close"-->
<!--            minEvictableIdleTimeMillis="60000" timeBetweenEvictionRunsMillis="30000"-->
<!--            maxWait="20000"-->
<!--            initialSize="0" minIdle="0" maxIdle="${search.uws.maxActive}" maxActive="${search.uws.maxActive}"-->
<!--            username="${search.uws.username}" password="${search.uws.password}"-->
<!--            driverClassName="org.postgresql.Driver" url="${search.uws.url}"-->
<!--            removeAbandoned="false"-->
<!--            testOnBorrow="true" validationQuery="select 123" />-->

</Context>
